var Card=function(){var e=Array.prototype.slice,t="card__side_state_opened",i="card__side_state_closed",n="card_animation",a="card__link_disabled_yes";return{init:function(){function a(e){return{lang:e.dataset.lang,elem:e}}this.card=document.querySelector(".card"),this.params=JSON.parse(this.card.dataset.bem).card,this.sides=e.call(this.card.querySelectorAll(".card__side")).map(a),this.links=e.call(this.card.querySelectorAll(".card__switch .card__link")).map(a),c(this.sides[1].elem,t),s(this.sides[1].elem,i),window.addEventListener("hashchange",this._onHashChange.bind(this),!1),this._onHashChange(),setTimeout((function(){s(Card.card,n),s(Card.card,"card_visible")}),0),r(document.documentElement,"mobile")||setTimeout((function(){e.call(document.querySelectorAll(".card__phone-link")).forEach((function(e){e.removeAttribute("href")}))}),0)},_onHashChange:function(){var e=this._getLangFromHash();e&&this.changeLang(e)},changeLang:function(e){this._changeTitle(e)._changeFavicon(e)._switchSide(e)._changeUrl(e)},_changeTitle:function(e){return document.title=this.params.titles[e],this},_changeFavicon:function(e){return document.querySelector('link[rel="shortcut icon"]').setAttribute("href",this.params.favicons[e]),this},_changeUrl:function(e){return this.links.forEach((function(t){t.lang===e?s(t.elem,a):c(t.elem,a)})),this},_switchSide:function(e){var a,h;function o(){c(a,t),s(a,i),c(h,i),s(h,t)}return this.sides[0].lang===e?(h=this.sides[0].elem,a=this.sides[1].elem):(h=this.sides[1].elem,a=this.sides[0].elem),c(h,i),r(this.card,n)?setTimeout(o,100):o(),this},_getLangFromHash:function(){var e=document.location.hash.match(/(\w{2})/);return e?e[1]:""}};function s(e,t){r(e,t)||(e.className+=" "+t)}function c(e,t){if(r(e,t)){var i=e.className.split(/\s/),n=i.indexOf(t);i.splice(n,1),e.className=i.join(" ")}}function r(e,t){return-1!==e.className.split(/\s/).indexOf(t)}}();!function(){var e,t,i;function n(e){return document.querySelector('meta[name="viewport"]').setAttribute("content","width=device-width, initial-scale="+e)}function a(){var a=t[i?"availHeight":"availWidth"],s=t[i?"availWidth":"availHeight"];a>e.width&&e.height<s||n(a<s?a/e.width:s/e.height)}function s(){i=90===Math.abs(window.orientation),a()}e={width:600,height:360},t=window.screen,s(),window.addEventListener("orientationchange",s)}(),document.addEventListener("DOMContentLoaded",(function(){Card.init()}));